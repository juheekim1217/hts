---
import Layout from '~/layouts/PageLayout.astro';
const metadata = { title: 'Login' };
---

<Layout metadata={metadata}>
  <section class="max-w-md mx-auto my-20 p-6 border rounded shadow space-y-6 text-center">
    <h2 class="text-2xl font-bold">üîê Login with Google</h2>
    <button id="google-login" class="btn bg-black text-white w-full"> Continue with Google </button>
  </section>

  <script type="module">
    import { supabase } from '/src/lib/supabaseClient.ts';

    document.getElementById('google-login')?.addEventListener('click', async () => {
      await supabase.auth.signInWithOAuth({
        provider: 'google',
        options: {
          redirectTo: `${window.location.origin}/dashboard`,
        },
      });
    });
  </script>
</Layout>
